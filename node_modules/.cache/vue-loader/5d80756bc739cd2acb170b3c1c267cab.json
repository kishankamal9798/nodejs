{"remainingRequest":"/home/agami/Desktop/Vuejs/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/agami/Desktop/Vuejs/client/src/components/imagesList/imagesList.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/agami/Desktop/Vuejs/client/src/components/imagesList/imagesList.vue","mtime":1599232719519},{"path":"/home/agami/Desktop/Vuejs/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/agami/Desktop/Vuejs/client/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/agami/Desktop/Vuejs/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/agami/Desktop/Vuejs/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgppbXBvcnQgeyBDb21wb25lbnQsIFZ1ZSB9IGZyb20gInZ1ZS1wcm9wZXJ0eS1kZWNvcmF0b3IiOwppbXBvcnQgQXhpb3MgZnJvbSAiYXhpb3MiOwoKQENvbXBvbmVudApleHBvcnQgZGVmYXVsdCBjbGFzcyBJbWFnZXNMaXN0IGV4dGVuZHMgVnVlIHsKICBwdWJsaWMgQkFTRV9BUElfVVJMID0gImh0dHA6Ly9sb2NhbGhvc3Q6NDAwMC8iOwogIHB1YmxpYyBpbWFnZUFycjogYW55ID0gW107CiAgcHVibGljIHZhbGlkYXRpb25Nc2cgPSBmYWxzZTsKICBwdWJsaWMgYXN5bmMgdXBsb2FkRG9jKGV2ZW50OiBhbnkpIHsKICAgIHRyeSB7CiAgICAgIHZhciBmaWxlcyA9IGV2ZW50LnRhcmdldC5maWxlczsKCiAgICAgIC8vIGlmIChmaWxlcy5sZW5ndGggPCA0KSB7CiAgICAgIC8vICAgcmV0dXJuOwogICAgICAvLyB9CiAgICAgCiAgICAgIHRoaXMudmFsaWRhdGlvbk1zZyA9IGZhbHNlOwogICAgICBsZXQgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgZXZlbnQudGFyZ2V0LmZpbGVzLmZvckVhY2goKGVsZW1lbnQ6IGFueSkgPT4gewogICAgICAgIGZvcm1EYXRhLmFwcGVuZCgiZmlsZSIsIGVsZW1lbnQpOwogICAgICB9KTsKCiAgICAgIGxldCByZXMgPSBhd2FpdCBBeGlvcy5wb3N0KAogICAgICAgIHRoaXMuQkFTRV9BUElfVVJMICsgInVwbG9hZC91cGxvYWRJbWFnZXMiLAogICAgICAgIGZvcm1EYXRhCiAgICAgICk7CiAgICAgIGNvbnNvbGUubG9nKHJlcyk7CgogICAgICBpZiAocmVzLmRhdGEuY29kZSA9PSA1MDApIHsKICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIHRoaXMudmFsaWRhdGlvbk1zZyA9IHRydWU7CiAgICAgIH0KICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgIH0KICB9CgogIHB1YmxpYyBhc3luYyBmZXRjaEltYWdlTGlzdCgpIHsKICAgIHRyeSB7CiAgICAgIGxldCByZXMgPSBhd2FpdCBBeGlvcy5wb3N0KAogICAgICAgIHRoaXMuQkFTRV9BUElfVVJMICsgInVwbG9hZC9mZXRjaEltYWdlTGlzdCIsCiAgICAgICAge30KICAgICAgKTsKICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgdGhpcy5pbWFnZUFyciA9IHJlcy5kYXRhLmltYWdlczsKICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgIH0KICB9CgogIHB1YmxpYyBhc3luYyBsb2FkSW1hZ2UocGF0aDogYW55LCBpOiBhbnkpIHsKICAgIHRyeSB7CiAgICAgIGxldCByZXNwb25zZSA9IGF3YWl0IEF4aW9zLnBvc3QodGhpcy5CQVNFX0FQSV9VUkwgKyAidXBsb2FkL3Nob3dJbWFnZXMiLCB7CiAgICAgICAgcGF0aDogImh0dHBzOi8va2lzaGFuZGV2ZWxvcC5zMy11cy13ZXN0LTIuYW1hem9uYXdzLmNvbS8iICsgcGF0aAogICAgICB9KTsKICAgICAgbGV0IGRvbTogYW55ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImltYWdlRWwiICsgaSk7CiAgICAgIGxldCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTsKICAgICAgaW1nLnNyYyA9CiAgICAgICAgImRhdGE6aW1hZ2UvIiArIHBhdGguc3BsaXQoIi4iKS5wb3AoKSArICI7YmFzZTY0LCIgKyByZXNwb25zZS5kYXRhOwogICAgICBpbWcuaWQgPSAiaW1nLWlkIiArIGk7CiAgICAgIGltZy53aWR0aCA9IDE1MDsKICAgICAgaW1nLmhlaWdodCA9IDE1MDsKICAgICAgZG9tLmlubmVySFRNTCA9ICIiOwogICAgICBkb20uYXBwZW5kQ2hpbGQoaW1nKTsKICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgIH0KICB9CgogIHB1YmxpYyBtb3VudGVkKCkgewogICAgdGhpcy5mZXRjaEltYWdlTGlzdCgpOwogIH0KfQo="},{"version":3,"sources":["imagesList.vue"],"names":[],"mappings":";;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"imagesList.vue","sourceRoot":"src/components/imagesList","sourcesContent":["<template src='./imagesList.html'></template>\n<script lang='ts'>\nimport { Component, Vue } from \"vue-property-decorator\";\nimport Axios from \"axios\";\n\n@Component\nexport default class ImagesList extends Vue {\n  public BASE_API_URL = \"http://localhost:4000/\";\n  public imageArr: any = [];\n  public validationMsg = false;\n  public async uploadDoc(event: any) {\n    try {\n      var files = event.target.files;\n\n      // if (files.length < 4) {\n      //   return;\n      // }\n     \n      this.validationMsg = false;\n      let formData = new FormData();\n      event.target.files.forEach((element: any) => {\n        formData.append(\"file\", element);\n      });\n\n      let res = await Axios.post(\n        this.BASE_API_URL + \"upload/uploadImages\",\n        formData\n      );\n      console.log(res);\n\n      if (res.data.code == 500) {\n        event.preventDefault();\n        this.validationMsg = true;\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  public async fetchImageList() {\n    try {\n      let res = await Axios.post(\n        this.BASE_API_URL + \"upload/fetchImageList\",\n        {}\n      );\n      console.log(res);\n      this.imageArr = res.data.images;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  public async loadImage(path: any, i: any) {\n    try {\n      let response = await Axios.post(this.BASE_API_URL + \"upload/showImages\", {\n        path: \"https://kishandevelop.s3-us-west-2.amazonaws.com/\" + path\n      });\n      let dom: any = document.getElementById(\"imageEl\" + i);\n      let img = document.createElement(\"img\");\n      img.src =\n        \"data:image/\" + path.split(\".\").pop() + \";base64,\" + response.data;\n      img.id = \"img-id\" + i;\n      img.width = 150;\n      img.height = 150;\n      dom.innerHTML = \"\";\n      dom.appendChild(img);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  public mounted() {\n    this.fetchImageList();\n  }\n}\n</script>\n<style scoped>\ndiv.gallery {\n  margin: 5px;\n  border: 1px solid #ccc;\n  float: left;\n  width: 180px;\n}\n\ndiv.gallery:hover {\n  border: 1px solid #777;\n}\n\ndiv.gallery img {\n  width: 100%;\n  height: auto;\n}\n\ndiv.desc {\n  padding: 15px;\n  text-align: center;\n}\n</style>"]}]}