{"remainingRequest":"/home/agami/Desktop/Vuejs/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/agami/Desktop/Vuejs/client/src/components/imagesList/imagesList.vue?vue&type=style&index=0&id=94c5f384&scoped=true&lang=css&","dependencies":[{"path":"/home/agami/Desktop/Vuejs/client/src/components/imagesList/imagesList.vue","mtime":1599232719519},{"path":"/home/agami/Desktop/Vuejs/client/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/agami/Desktop/Vuejs/client/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/agami/Desktop/Vuejs/client/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/agami/Desktop/Vuejs/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/agami/Desktop/Vuejs/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgpkaXYuZ2FsbGVyeSB7CiAgbWFyZ2luOiA1cHg7CiAgYm9yZGVyOiAxcHggc29saWQgI2NjYzsKICBmbG9hdDogbGVmdDsKICB3aWR0aDogMTgwcHg7Cn0KCmRpdi5nYWxsZXJ5OmhvdmVyIHsKICBib3JkZXI6IDFweCBzb2xpZCAjNzc3Owp9CgpkaXYuZ2FsbGVyeSBpbWcgewogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogYXV0bzsKfQoKZGl2LmRlc2MgewogIHBhZGRpbmc6IDE1cHg7CiAgdGV4dC1hbGlnbjogY2VudGVyOwp9Cg=="},{"version":3,"sources":["imagesList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6EA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"imagesList.vue","sourceRoot":"src/components/imagesList","sourcesContent":["<template src='./imagesList.html'></template>\n<script lang='ts'>\nimport { Component, Vue } from \"vue-property-decorator\";\nimport Axios from \"axios\";\n\n@Component\nexport default class ImagesList extends Vue {\n  public BASE_API_URL = \"http://localhost:4000/\";\n  public imageArr: any = [];\n  public validationMsg = false;\n  public async uploadDoc(event: any) {\n    try {\n      var files = event.target.files;\n\n      // if (files.length < 4) {\n      //   return;\n      // }\n     \n      this.validationMsg = false;\n      let formData = new FormData();\n      event.target.files.forEach((element: any) => {\n        formData.append(\"file\", element);\n      });\n\n      let res = await Axios.post(\n        this.BASE_API_URL + \"upload/uploadImages\",\n        formData\n      );\n      console.log(res);\n\n      if (res.data.code == 500) {\n        event.preventDefault();\n        this.validationMsg = true;\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  public async fetchImageList() {\n    try {\n      let res = await Axios.post(\n        this.BASE_API_URL + \"upload/fetchImageList\",\n        {}\n      );\n      console.log(res);\n      this.imageArr = res.data.images;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  public async loadImage(path: any, i: any) {\n    try {\n      let response = await Axios.post(this.BASE_API_URL + \"upload/showImages\", {\n        path: \"https://kishandevelop.s3-us-west-2.amazonaws.com/\" + path\n      });\n      let dom: any = document.getElementById(\"imageEl\" + i);\n      let img = document.createElement(\"img\");\n      img.src =\n        \"data:image/\" + path.split(\".\").pop() + \";base64,\" + response.data;\n      img.id = \"img-id\" + i;\n      img.width = 150;\n      img.height = 150;\n      dom.innerHTML = \"\";\n      dom.appendChild(img);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  public mounted() {\n    this.fetchImageList();\n  }\n}\n</script>\n<style scoped>\ndiv.gallery {\n  margin: 5px;\n  border: 1px solid #ccc;\n  float: left;\n  width: 180px;\n}\n\ndiv.gallery:hover {\n  border: 1px solid #777;\n}\n\ndiv.gallery img {\n  width: 100%;\n  height: auto;\n}\n\ndiv.desc {\n  padding: 15px;\n  text-align: center;\n}\n</style>"]}]}